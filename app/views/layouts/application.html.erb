<!DOCTYPE html>
<html>
  <head>
    <title>MyResearch</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
  </head>

  <body class="font-sans">
    <% flash.each do |message_type, message| %>
      <div id="flash-message" class="fixed top-0 left-1/2 mt-4 transform -translate-x-1/2 py-2 px-4 rounded-lg shadow-md z-50
      <%= message_type == 'notice' ? 'bg-green-500' : 'bg-red-500' %>">
        <%= message %>
      </div>
    <% end %>

    <%= yield %>
  </body>

  <script>
    // Hide flash messages after 5 seconds on form submissions
    setTimeout(() => {
      const flashMessage = document.getElementById('flash-message');
      if (flashMessage) {
        flashMessage.remove();
      }
    }, 5000);
  </script>
</html>
